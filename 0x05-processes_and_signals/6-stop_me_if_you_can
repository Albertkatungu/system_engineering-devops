#!/usr/bin/env bash
# Stop the 4-to_infinity_and_beyond process without using kill or killall

# shellcheck disable=SC2009

# Get the PID(s) of the process
pids=$(pgrep -f "4-to_infinity_and_beyond")

# Terminate the process using /proc signal mechanism
for pid in $pids; do
    echo 15 > /proc/"$pid"/oom_score_adj 2>/dev/null
    # Send SIGTERM via /proc
    echo -n > /proc/"$pid"/fd/0 2>/dev/null
done
